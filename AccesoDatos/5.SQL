CLEAR SCR;
CREATE OR REPLACE TYPE EMPLEADO AS OBJECT (
RUT VARCHAR2(10),
NOMBRE VARCHAR(10),
CARGO VARCHAR(9),
FECHAING DATE,
SUELDO NUMBER(9),
COMISION NUMBER(9),
ANTICIPO NUMBER(9),
MEMBER FUNCTION SUELDO_LIQUIDO RETURN NUMBER,
MEMBER PROCEDURE AUMENTO_SUELDO(AUMENTO NUMBER),
MEMBER PROCEDURE SETANTICIPO(ANTICIPO NUMBER)
);
/
CREATE OR REPLACE TYPE BODY EMPLEADO AS

MEMBER FUNCTION SUELDO_LIQUIDO RETURN NUMBER IS
	BEGIN
	RETURN(SUELDO+COMISION) - ANTICIPO;
	END;

MEMBER PROCEDURE AUMENTO_SUELDO(AUMENTO NUMBER) IS
	BEGIN
	SUELDO := SUELDO + AUMENTO;
	END;

MEMBER PROCEDURE SETANTICIPO(ANTICIPO NUMBER) IS
	BEGIN
	SELF.ANTICIPO:=ANTICIPO;
	END;
END;
/

DROP TABLE EMPLEADOS;
CREATE TABLE EMPLEADOS OF EMPLEADO;
INSERT INTO EMPLEADOS VALUES ('1','JUANA','COMERCIAL',SYSDATE,1000,800,0);
INSERT INTO EMPLEADOS VALUES ('2','PEPA','DIRECTORA',SYSDATE,2000,500,0);
INSERT INTO EMPLEADOS VALUES ('3','ROSA','COMERCIAL',SYSDATE,1000,1000,0);

DECLARE 
	EMPL EMPLEADO;
BEGIN
	SELECT VALUE(E) INTO EMPL FROM EMPLEADOS E WHERE E.RUT='1';
	DBMS_OUTPUT.PUT_LINE('NOMBRE: '||EMPL.NOMBRE||' - CARGO: '||EMPL.CARGO||' - SUELDO: '||EMPL.SUELDO||' - SUELDO LIQUIDO: '||EMPL.SUELDO_LIQUIDO);
	EMPL.AUMENTO_SUELDO(400);
	DBMS_OUTPUT.PUT_LINE('--- TRAS EL AUMENTO ---');
	DBMS_OUTPUT.PUT_LINE('NOMBRE: '||EMPL.NOMBRE||' - CARGO: '||EMPL.CARGO||' - SUELDO: '||EMPL.SUELDO||' - SUELDO LIQUIDO: '||EMPL.SUELDO_LIQUIDO);
END;
/